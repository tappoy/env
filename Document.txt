package env // import "github.com/tappoy/env"

This module provides the ability to retrieve environment variables with default
values and types. It also provides the ability to set dummy values for ease of
testing.

VARIABLES

var (
	// DummyEnv is the map that stores dummy values for the environment variable.
	// This is used for testing.
	DummyEnv = make(Env)

	// Exit is the function that calls os.Exit normally.
	// If you want test, you can replace this function with a mock function.
	Exit = os.Exit

	// Out is the io.Writer. Default is os.Stdout.
	// If you want test, you can replace this variable with a mock variable.
	Out = io.Writer(os.Stdout)

	// Err is the io.Writer. Default is os.Stderr.
	// If you want test, you can replace this variable with a mock variable.
	Err = io.Writer(os.Stderr)

	// In is the io.Reader. Default is os.Stdin.
	// If you want test, you can replace this variable with a mock variable.
	In = io.Reader(os.Stdin)

	// Args is the variable that stores the arguments of os.Args.
	// If you want test, you can replace this variable with a mock variable.
	Args = os.Args
)
var (
	// The input process is interrupted.
	ErrInterrupted = errors.New("ErrInterrupted")

	// The dummy password to generate ErrInterrupted.
	Interrupt = "Interrupt"
)

FUNCTIONS

func ClearDummyPassword()
    ClearDummyPassword is used to clear the dummy password for testing.

func Debug(format string, args ...any)
    Debug is used to log debug message

func Errf(format string, a ...any)
    Errf is the function that outputs the formatted string to env.Err.

func Error(format string, args ...any)
    Error is used to log error message

func GetLogDir() string
    GetLogDir is used to get log directory

func Getenv(key string, defaultValue string) string
    Getenv is the function that returns the value of the environment variable
    as a string. The value is searched in the DummyEnv first, and if it is not
    found, it is searched by os.Getenv. Finally, if the value is not found,
    it returns the defaultValue.

func GetenvInt(key string, defaultValue int) (int, error)
    Getenv is the function that returns the value of the environment variable as
    a int. The value is searched in the DummyEnv first, and if it is not found,
    it is searched by os.Getenv. Finally, if the value is not found, it returns
    the defaultValue. If the value is not a number, it returns the defaultValue
    and an error.

func Info(format string, args ...any)
    Info is used to log info message

func InputPassword() (string, error)
    InputPassword reads a password from the terminal. If the input is not from
    the terminal, it will read from the Env.In. If the dummy password is set,
    it will return the dummy password. If the dummy password is Interrupt,
    it will return ErrInterrupted.

    Errors:
      - ErrInterrupted

    See:
      - SetDummyPassword
      - ClearDummyPassword
      - Interrupt

func IsSetLogger() bool
    IsSetLogger is used to check if logger is set

func Notice(format string, args ...any)
    Notice is used to log notice message

func Outf(format string, a ...any)
    Outf is the function that outputs the formatted string to env.Out.

func SetDummyPassword(pw string)
    SetDummyPassword is used to set the dummy password for testing.

func SetLogger(logDir string) error
    SetLogger is used to set logger More info: See
    https://github.com/tappoy/logger

    Errors:
      - logger.ErrCannotCreateLogDir
      - logger.ErrCannotWriteLogFile


TYPES

type Env map[string]string
    Env is the type that represents the environment variables.

